@using Microsoft.AspNet.Identity
@using System.Configuration;
@if (Request.IsAuthenticated)
{

    <form method="POST" action="@Url.Map("logout", "user")" id="logoutForm">
    @Html.AntiForgeryToken()

        <a href="@Url.Map("", "user")">Hallo @User.Identity.GetUserName()!</a>
        <a href="javascript:document.getElementById('logoutForm').submit()"><i class="fa fa-sign-out fa-lg"></i> Abmelden</a>
        @* This needs to get a popover done; also loading more with AJAX. *@
        <a href="@Url.Map("nachrichten","user")" id="userbar-messages-button">&nbsp;<i class="fa fa-envelope fa-lg"></i>
        @if(UnreadMessages > 0) {
            <span class="label label-default mini-counter">@UnreadMessages.ToString()</span>
	    }
        </a>
        <a href="@Url.Map("benachrichtigungen", "user")" id="userbar-notification-button">&nbsp;<i class="fa fa-bell fa-lg"></i>
        @if(UnreadNotifications > 0) {
            <span class="label label-default mini-counter">@UnreadNotifications.ToString()</span>
        }
        </a>
    </form>
}
else
{
        @Html.ActionLink("Registrieren", "Register", "Account", "user", routeValues: new { Area = "user" }, htmlAttributes: new { id = "registerLink" })<span> | </span>
        @Html.ActionLink("Anmelden", "Login", "Account", "user", routeValues: new { Area = "user" }, htmlAttributes: new { id = "loginLink" })
}